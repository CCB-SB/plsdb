{
    "data": {
        "odir": {
            "reports": "data/reports",
            "checks": "data/checks",
            "master": "data/master",
        },
        "gmaps_api_keys": "gmaps_api_keys.txt",
        "locs": "locs.pck",
        "filter": {
            "min_len": 500,
            "dfilter": "cds|scaffold|contig|whole genome shotgun sequence|whole genome shotgun sequencing project"
        }
    },
    "eutils": {
        "dir": "tools/edirect",
        "header": {
            "plasmid": ["UID_NUCCORE", "ACC_NUCCORE", "Description_NUCCORE", "CreateDate_NUCCORE", "Topology_NUCCORE", "Completeness_NUCCORE", "TaxonID_NUCCORE", "Genome_NUCCORE", "Length_NUCCORE"],
            "link_bios": ["UID_NUCCORE", "UID_BIOSAMPLE"],
            "biosample": ["UID_BIOSAMPLE", "ACC_BIOSAMPLE", "Location_BIOSAMPLE", "Coordinates_BIOSAMPLE", "IsolationSource_BIOSAMPLE"],
            "ranks": ["species", "genus", "family", "order", "class", "phylum", "superkingdom"]
        },
        "query": {
            "plasmid": "{path}/esearch -db nuccore -query 'plasmid[ALL]' | {path}/efilter -location plasmid -organism bacteria -source {db} | {path}/efetch -format docsum | {path}/xtract -pattern DocumentSummary -ID '(NA)' -CAP '(NA)' -TITLE '(NA)' -DATE '(NA)' -TOPO '(NA)' -COMPL '(NA)' -TID '(NA)' -GEN '(NA)' -LEN '(NA)' -ID Id -CAP Caption -TITLE Title -DATE CreateDate -TOPO Topology -COMPL Completeness -TID TaxId -GEN Genome -LEN Slen -element '&ID' '&CAP' '&TITLE' '&DATE' '&TOPO' '&COMPL' '&TID' '&GEN' '&LEN'",
            "link_bios": {
                "before": "{path}/epost -db nuccore -id",
                "after": "-format uid | {path}/elink -target biosample -cmd neighbor -batch | {path}/xtract -pattern LinkSet -element IdList/Id -block LinkSetDb -sep ';' -element Id",
            },
            "biosample": {
                "before": "{path}/epost -db biosample -id",
                "after": "-format uid | {path}/efetch -format xml | {path}/xtract -pattern BioSample  -LOC '(NA)' -COORD '(NA)' -SOURCE '(NA)' -group Attribute -if Attribute@attribute_name -equals 'geo_loc_name' -LOC Attribute -group Attribute -if Attribute@attribute_name -equals 'lat_lon' -COORD Attribute -group Attribute -if Attribute@attribute_name -equals 'isolation_source' -SOURCE Attribute -group BioSample -element @id -element @accession -element '&LOC' '&COORD' '&SOURCE'"
            },
            "taxon": {
                "before": "{path}/efetch -db taxonomy -id",
                "after": "-format xml | {path}/xtract -pattern Taxon -sep '|' -element TaxId,ScientificName,Rank -element Lineage -block '*/Taxon' -sep '|' -element TaxId,ScientificName,Rank"
            }
        }
    },
    "blast": {
        "url": "ftp://ftp.ncbi.nlm.nih.gov/blast/executables/blast+/LATEST/ncbi-blast-2.7.1+-x64-linux.tar.gz",
        "dir": "tools/ncbi-blast-2.7.1+",
        "ext": ["nin", "nhr", "nsq"]
    },
    "mash": {
        "url": "https://github.com/marbl/Mash/releases/download/v2.0/mash-Linux64-v2.0.tar",
        "dir": "tools/mash-Linux64-v2.0",
        "sketch_params": "-i -S 42 -p 20 -k 21 -s 1000",
        "dist_params": "-t -p 20"
    },
    "krona": {
        "url": "https://github.com/marbl/Krona/archive/xl2.5.zip",
        "dir": "tools/KronaTools"
    },
    "umap": {
        "neighbors": 50,
        "components": 2
    },
    "abricate": {
        "blastn":{
            "count": "grep '^>' $(conda info --base)/envs/plsdb/db/{rdb}/sequences | wc -l",
            "cmd": "{blastn} -query {input} -db $(conda info --base)/envs/plsdb/db/{rdb}/sequences -task blastn -perc_identity {ident} -out {output} -outfmt '6 {header}' -num_threads {cores} -evalue 1E-20 -culling_limit 1",
            "header": ["qseqid", "qstart", "qend", "qlen", "sseqid", "sstart", "send", "slen", "stitle", "evalue", "pident", "length", "gaps"]
        },
        "dbs": ["argannot", "card", "plasmidfinder", "resfinder", "vfdb"],
        "params": {
            "argannot": {
                "ident": 95,
                "cov": 95
            },
            "card": {
                "ident": 95,
                "cov": 95
            },
            "plasmidfinder": {
                "ident": 80,
                "cov": 96
            },
            "resfinder": {
                "ident": 95,
                "cov": 95
            },
            "vfdb": {
                "ident": 95,
                "cov": 95
            },
        }
    }
}
